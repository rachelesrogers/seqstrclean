<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="This package is used to clean sequential notes. Namely, to remove a previous page's notes from the current note sheet.">
<title>Sequential String Cleaning • seqstrclean</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Sequential String Cleaning">
<meta property="og:description" content="This package is used to clean sequential notes. Namely, to remove a previous page's notes from the current note sheet.">
<meta property="og:image" content="https://rachelesrogers.github.io/seqstrclean/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">seqstrclean</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/larger_notecleaning.html">larger_notecleaning</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rachelesrogers/seqstrclean/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="seqstrclean-">seqstrclean 
<a class="anchor" aria-label="anchor" href="#seqstrclean-"></a>
</h1>
</div>
<!-- badges: start -->
<!-- badges: end -->
<p>The goal of seqstrclean is to clean sequential strings. In cumulative note taking, notes from a previous section may be saved alongside notes from the current section. This package aims to remove the previous section’s notes, leaving only notes from the current section. For example, a person may take the note: “A cat ran up a tree.” initially, then add “The cat was chased by a dog”. The notepad would then show: “A cat ran up a tree. The cat was chased by a dog”. This package is meant to separate the notes into the two parts based on the different saves of the notepad.</p>
<p>The firstnchar function compares the beginning of the latest notes to the previous section, and removes from the latest notes if they are similar enough (determined by edit distance).</p>
<p>The lcsclean function compares the entirety of both note sheets and locates the longest common substring between the two, which is removed from the latest note sheet if it represents a significant portion of the previous notes.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of seqstrclean from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"rachelesrogers/seqstrclean"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>There are three methods used for sequential note cleaning in this package: First N Character, Longest Common Substring, and a hybrid method combining the two. The First N Character method is faster, while in a small verification study the Longest Common Substring method was more accurate. The hybrid method strikes a balance between the speed of the First N Character method and the accuracy of the Longest Common Substring method by only applying the Longest Common Substring method to difficult cases (where previous text cannot be removed using the First N Character method, or the supplied note sheet is unusually long).</p>
<div class="section level3">
<h3 id="first-n-character-method">First N Character Method<a class="anchor" aria-label="anchor" href="#first-n-character-method"></a>
</h3>
<p>The first method is the First N Character method, where the entirety of the previous page’s notes are compared with the first n characters of the current page’s notes (where n is the length of the previous page’s notes). If the notes are similar enough (based on edit distance), the first n characters will be removed from the current page.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rachelesrogers/seqstrclean" class="external-link">seqstrclean</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">test_dataset</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>ID<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1"</span>,<span class="st">"1"</span>,<span class="st">"2"</span>,<span class="st">"2"</span>,<span class="st">"1"</span>, <span class="st">"3"</span>, <span class="st">"3"</span><span class="op">)</span>,</span>
<span>Notes<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"The"</span>,<span class="st">"The cat"</span>,<span class="st">"The"</span>,<span class="st">"The dog"</span>,<span class="st">"The cat ran"</span>, <span class="st">"the chicken was chased"</span>, <span class="st">"The goat chased the chicken"</span><span class="op">)</span>,</span>
<span>Page<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">test_dataset</span></span>
<span><span class="co">#&gt;   ID                       Notes Page</span></span>
<span><span class="co">#&gt; 1  1                         The    1</span></span>
<span><span class="co">#&gt; 2  1                     The cat    2</span></span>
<span><span class="co">#&gt; 3  2                         The    1</span></span>
<span><span class="co">#&gt; 4  2                     The dog    2</span></span>
<span><span class="co">#&gt; 5  1                 The cat ran    3</span></span>
<span><span class="co">#&gt; 6  3      the chicken was chased    1</span></span>
<span><span class="co">#&gt; 7  3 The goat chased the chicken    2</span></span></code></pre></div>
<p>In the test dataset shown above, there are third note-takes (identified by ID number), and 2-3 pages of notes. The first individual wrote “The”, “cat”, and “ran” sequentially on their notes, with one word per page. The second individual wrote “The” and “dog” sequentially. The third individual wrote “the chicken was chased” on the first page, and “The goat chased the chicken” on the second page, which does not reflect sequential note-taking. The First N Character method can be used to separate these notes, based on what was written per page.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="reference/firstnchar.html">firstnchar</a></span><span class="op">(</span>dataset<span class="op">=</span><span class="va">test_dataset</span>,notes<span class="op">=</span><span class="st">"Notes"</span>,char_diff<span class="op">=</span><span class="fl">3</span>,identifier<span class="op">=</span><span class="st">"ID"</span>,pageid<span class="op">=</span><span class="st">"Page"</span><span class="op">)</span></span>
<span><span class="co">#&gt;   ID                       Notes Page                  page_notes edit_distance</span></span>
<span><span class="co">#&gt; 1  1                         The    1                         The            NA</span></span>
<span><span class="co">#&gt; 2  1                     The cat    2                         cat             0</span></span>
<span><span class="co">#&gt; 3  2                         The    1                         The            NA</span></span>
<span><span class="co">#&gt; 4  2                     The dog    2                         dog             0</span></span>
<span><span class="co">#&gt; 5  1                 The cat ran    3                         ran             0</span></span>
<span><span class="co">#&gt; 6  3      the chicken was chased    1      the chicken was chased            NA</span></span>
<span><span class="co">#&gt; 7  3 The goat chased the chicken    2 The goat chased the chicken            17</span></span></code></pre></div>
<p>Here, page_notes displays the clean notes, and edit_distance refers to the distance between the previous page of notes and the first n character of the current page of notes. In the cases of sequential notes (for individuals 1 and 2), the edit distance is 0, as the beginning of the notes match the previous page’s notes. In the case of the third individual, the edit distance is 4 (there are four substitutions necessary to change from “goat” to “chick”), which is greater than the set threshold of 3. Thus, the second page of the third individual’s notes include the full text recorded on the second page (nothing was removed).</p>
</div>
<div class="section level3">
<h3 id="longest-common-substring-method">Longest Common Substring Method<a class="anchor" aria-label="anchor" href="#longest-common-substring-method"></a>
</h3>
<p>The second method is the Longest Common Substring method, where the two page note strings are compared in their entirity for the longest string they have in common, above a certain threshold. This longest string is then removed from the current page of notes, and the process is repeated until the longest common substring is no longer above the assigned cutoff.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">test_dataset</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>ID<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1"</span>,<span class="st">"1"</span>,<span class="st">"2"</span>,<span class="st">"2"</span>,<span class="st">"1"</span>, <span class="st">"3"</span>, <span class="st">"3"</span><span class="op">)</span>,</span>
<span>Notes<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"The"</span>,<span class="st">"The cat"</span>,<span class="st">"The"</span>,<span class="st">"The dog"</span>,<span class="st">"The cat ran"</span>, <span class="st">"the chicken was chased"</span>, <span class="st">"The goat chased the chicken"</span><span class="op">)</span>,</span>
<span>Page<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>The dataset above is the same as that of the First N Character method, aside from the third notetaker. In this case, the third notetaker wrote “the chicken was chased” on the first page, and “The goat chased the chicken” on the second page.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/lcsclean.html">lcsclean</a></span><span class="op">(</span><span class="va">test_dataset</span>,<span class="st">"Notes"</span>,<span class="fl">0.5</span>,<span class="st">"ID"</span>,<span class="st">"Page"</span><span class="op">)</span></span>
<span><span class="co">#&gt;   ID                       Notes Page                  page_notes</span></span>
<span><span class="co">#&gt; 1  1                         The    1                         The</span></span>
<span><span class="co">#&gt; 2  1                     The cat    2                         cat</span></span>
<span><span class="co">#&gt; 3  2                         The    1                         The</span></span>
<span><span class="co">#&gt; 4  2                     The dog    2                         dog</span></span>
<span><span class="co">#&gt; 5  1                 The cat ran    3                         ran</span></span>
<span><span class="co">#&gt; 6  3      the chicken was chased    1      the chicken was chased</span></span>
<span><span class="co">#&gt; 7  3 The goat chased the chicken    2 The goat chased the chicken</span></span></code></pre></div>
<p>When the proportion threshold is set to 0.5, nothing is removed from the third note taker’s second page, as the longest common substring (“the chicken”) represents exactly half of the characters in the page.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/lcsclean.html">lcsclean</a></span><span class="op">(</span><span class="va">test_dataset</span>,<span class="st">"Notes"</span>,<span class="fl">0.49</span>,<span class="st">"ID"</span>,<span class="st">"Page"</span><span class="op">)</span></span>
<span><span class="co">#&gt;   ID                       Notes Page             page_notes</span></span>
<span><span class="co">#&gt; 1  1                         The    1                    The</span></span>
<span><span class="co">#&gt; 2  1                     The cat    2                    cat</span></span>
<span><span class="co">#&gt; 3  2                         The    1                    The</span></span>
<span><span class="co">#&gt; 4  2                     The dog    2                    dog</span></span>
<span><span class="co">#&gt; 5  1                 The cat ran    3                    ran</span></span>
<span><span class="co">#&gt; 6  3      the chicken was chased    1 the chicken was chased</span></span>
<span><span class="co">#&gt; 7  3 The goat chased the chicken    2       The goat chased</span></span></code></pre></div>
<p>When the threshold is lowered to 0.49, “the chicken” is removed from the second page of notes. This would represent the removal of the longest common substring after one iteration, as the next longest substring (“chased”) does is below the cutoff threshold.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/lcsclean.html">lcsclean</a></span><span class="op">(</span><span class="va">test_dataset</span>,<span class="st">"Notes"</span>,<span class="fl">0.25</span>,<span class="st">"ID"</span>,<span class="st">"Page"</span><span class="op">)</span></span>
<span><span class="co">#&gt;   ID                       Notes Page             page_notes</span></span>
<span><span class="co">#&gt; 1  1                         The    1                    The</span></span>
<span><span class="co">#&gt; 2  1                     The cat    2                    cat</span></span>
<span><span class="co">#&gt; 3  2                         The    1                    The</span></span>
<span><span class="co">#&gt; 4  2                     The dog    2                    dog</span></span>
<span><span class="co">#&gt; 5  1                 The cat ran    3                    ran</span></span>
<span><span class="co">#&gt; 6  3      the chicken was chased    1 the chicken was chased</span></span>
<span><span class="co">#&gt; 7  3 The goat chased the chicken    2              The goat</span></span></code></pre></div>
<p>However, if the threshold is reduced further to 0.25 (or 1/4 of the previous notes), “chased” will be removed from the second page of notes as well, leaving only “the goat” in the clean notes.</p>
</div>
</div>
<div class="section level2">
<h2 id="acknowledgements">Acknowledgements<a class="anchor" aria-label="anchor" href="#acknowledgements"></a>
</h2>
<p>This work was funded (or partially funded) by the Center for Statistics and Applications in Forensic Evidence (CSAFE) through Cooperative Agreements 70NANB15H176 and 70NANB20H019 between NIST and Iowa State University, which includes activities carried out at Carnegie Mellon University, Duke University, University of California Irvine, University of Virginia, West Virginia University, University of Pennsylvania, Swarthmore College and University of Nebraska, Lincoln.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/rachelesrogers/seqstrclean/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/rachelesrogers/seqstrclean/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing seqstrclean</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Rachel Rogers <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-4145-9630" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Rachel Rogers.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
